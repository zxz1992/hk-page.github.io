(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loginAndSignUp"],{"2d39":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body-page",style:{"background-image":"url('"+e.publicPath+"image/loginBG.png')"}},[a("div",{staticClass:"content-box"},[a("h1",[e._v("User")]),a("div",{staticClass:"select-box"},[a("div",{class:{"select-btn":!0,active:1===e.active},on:{click:function(t){e.active=1}}},[e._v("Login")]),a("div",{class:{"select-btn":!0,active:2===e.active},on:{click:function(t){e.active=2}}},[e._v("Register")])]),1===e.active?[a("form",[a("label",[e._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginData.email,expression:"loginData.email"}],attrs:{type:"text"},domProps:{value:e.loginData.email},on:{input:function(t){t.target.composing||e.$set(e.loginData,"email",t.target.value)}}}),a("div",{staticClass:"tip"},[e._v("Please include “@life.hkbu.edu.hk” or “@hkbu.edu.hk”.")]),a("label",[e._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginData.password,expression:"loginData.password"}],attrs:{type:"password"},domProps:{value:e.loginData.password},on:{input:function(t){t.target.composing||e.$set(e.loginData,"password",t.target.value)}}}),a("div",{staticClass:"tip"},[e._v("The password is not necessary the same as that for SSOid.")])]),a("div",{staticClass:"btn-box"},[a("button",{on:{click:e.loginStart}},[e._v("Login")]),a("div",{staticClass:"text-info"},[e._v("Forget Password")]),a("button",{on:{click:function(t){return e.goLink("/")}}},[e._v("Login As Guest ")])])]:[a("form",[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerData.email,expression:"registerData.email"}],attrs:{type:"text"},domProps:{value:e.registerData.email},on:{input:function(t){t.target.composing||e.$set(e.registerData,"email",t.target.value)}}}),e._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerData.password,expression:"registerData.password"}],attrs:{type:"password"},domProps:{value:e.registerData.password},on:{input:function(t){t.target.composing||e.$set(e.registerData,"password",t.target.value)}}}),e._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:e.rePassword,expression:"rePassword"}],attrs:{type:"password"},domProps:{value:e.rePassword},on:{input:function(t){t.target.composing||(e.rePassword=t.target.value)}}}),e._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerData.first_name,expression:"registerData.first_name"}],attrs:{type:"text"},domProps:{value:e.registerData.first_name},on:{input:function(t){t.target.composing||e.$set(e.registerData,"first_name",t.target.value)}}}),e._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerData.last_name,expression:"registerData.last_name"}],attrs:{type:"text"},domProps:{value:e.registerData.last_name},on:{input:function(t){t.target.composing||e.$set(e.registerData,"last_name",t.target.value)}}}),e._m(5),a("select",{directives:[{name:"model",rawName:"v-model",value:e.registerData.concentration_study_id,expression:"registerData.concentration_study_id"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.registerData,"concentration_study_id",t.target.multiple?a:a[0])}}},e._l(e.concentrationOption,(function(t){return a("option",{key:"concentrationOption"+t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.content)+" ")])})),0),e._m(6),a("select",{directives:[{name:"model",rawName:"v-model",value:e.registerData.entry_year,expression:"registerData.entry_year"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.registerData,"entry_year",t.target.multiple?a:a[0])}}},e._l(40,(function(t){return a("option",{key:t,domProps:{value:1979+t}},[e._v(" "+e._s(1979+t)+" ")])})),0)]),a("div",{staticClass:"btn-box"},[a("button",{on:{click:e.registerStart}},[e._v("Next")])])]],2)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Email"),a("span",[e._v("*")]),e._v(":")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Password"),a("span",[e._v("*")]),e._v(":")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Confirm Password"),a("span",[e._v("*")]),e._v(":")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("First Name"),a("span",[e._v("*")]),e._v(":")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Last Name"),a("span",[e._v("*")]),e._v(":")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Concentration Studies"),a("span",[e._v("*")]),e._v(":")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Year of Entry"),a("span",[e._v("*")]),e._v(":")])}],s=(a("e7e5"),a("d399")),r=a("365c"),o=a("7b36"),l={data:function(){return{publicPath:"/hk-page.github.io/",active:1,concentrationOption:[],loginData:{email:null,password:null},registerData:{email:null,first_name:null,last_name:null,role:3,password:null,concentration_study_id:null,entry_year:null},rePassword:null}},created:function(){var e=this;Object(r["b"])().then((function(t){e.concentrationOption=t.data})).catch((function(){}))},methods:{goLink:function(e){this.$router.push({path:e})},loginStart:function(){var e=this;this.loginData.email?this.loginData.password?Object(r["j"])(this.loginData).then((function(t){Object(o["c"])(t.api_token),Object(s["a"])({type:"success",message:"login is successed"}),e.goLink("/"),setTimeout((function(){window.location.reload()}),1e3)})).catch((function(){})):Object(s["a"])("password is required"):Object(s["a"])("email is required")},registerStart:function(){var e=this;this.registerData.email?this.registerData.first_name?this.registerData.last_name?this.registerData.password?this.registerData.concentration_study_id?this.registerData.entry_year?this.rePassword===this.registerData.password?Object(r["c"])(this.registerData).then((function(t){Object(o["c"])(t.api_token),Object(s["a"])({type:"success",message:"register is successed"}),e.goLink("/"),setTimeout((function(){window.location.reload()}),1e3)})).catch((function(){})):Object(s["a"])("The two passwords are inconsistent"):Object(s["a"])("entry_year is required"):Object(s["a"])("concentration_study is required"):Object(s["a"])("password is required"):Object(s["a"])("last_name is required"):Object(s["a"])("first_name is required"):Object(s["a"])("email is required")}}},c=l,u=(a("41b6"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"38a684db",null);t["default"]=d.exports},"41b6":function(e,t,a){"use strict";a("b133")},b133:function(e,t,a){}}]);
//# sourceMappingURL=loginAndSignUp.b4b1b4a4.js.map